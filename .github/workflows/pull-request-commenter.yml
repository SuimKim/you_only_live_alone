name: Add PR Comment After PR Opened

on:
  pull_request:
    types: [opened]

jobs:
  comment-on-pr:
    runs-on: ubuntu-latest

    steps:
      - name: Checkout repository
        uses: actions/checkout@v3

      - name: Add comment about P-N rule
        uses: peter-evans/create-or-update-comment@v3
        with:
          token: ${{ secrets.AUTO_ACTIONS }}
          issue-number: ${{ github.event.pull_request.number }}
          body: |
            ## About P-N comment rule
            Reviewer의 의도가 명확하게 전달될 수 있도록, 아래와 같이 P-N 라벨을 리뷰 코멘트 앞에 추가해주세요.
            [예시] `P3) ~ 라인의 컨텍스트는 ~ 이유로 리뷰어 혹은 후속 작업자가 파악하기 힘들 것 같습니다. 주석이 추가되었으면 좋겠습니다.`

            ```
            - P1: 꼭 반영해 주세요 (Request changes)
            - P2: 적극적으로 고려해 주세요 (Request changes)
            - P3: 웬만하면 반영해 주세요 (Comment)
            - P4: 반영해도 좋고 넘어가도 좋습니다 (Approve)
            - P5: 그냥 사소한 의견입니다 (Approve)
            ```

            _Generated by GitHub Actions_
